[["index.html", "TP CEFIM Chapter 1 Analyse des données mondiales", " TP CEFIM Oswaldo Forey 2022-04-05 Chapter 1 Analyse des données mondiales "],["population---données-un-1950-2020.html", "Chapter 2 POPULATION - Données UN 1950-2020 2.1 Population graphique monde entier", " Chapter 2 POPULATION - Données UN 1950-2020 library(tidyverse) ## -- Attaching packages --------------------------------------- tidyverse 1.3.1 -- ## v ggplot2 3.3.5 v purrr 0.3.4 ## v tibble 3.1.6 v dplyr 1.0.8 ## v tidyr 1.2.0 v stringr 1.4.0 ## v readr 2.1.2 v forcats 0.5.1 ## -- Conflicts ------------------------------------------ tidyverse_conflicts() -- ## x dplyr::filter() masks stats::filter() ## x dplyr::lag() masks stats::lag() # faire un csv en premier, passer les &#39;&quot;...&quot; en na et utiliser la virgule comme marque de la décimale population_1950_UN&lt;-read_delim(&quot;WPP2019_POP_F01_1_TOTAL_POPULATION_BOTH_SEXES_UN.csv&quot;, locale=locale(decimal_mark=&quot;,&quot;), skip=16, na=&quot;...&quot;) |&gt; rename(region=3) |&gt; select(region,Type,&quot;1950&quot;:&quot;2020&quot;) |&gt; pivot_longer(cols=&quot;1950&quot;:&quot;2020&quot;, names_to = &quot;annee&quot;, values_to=&quot;population&quot;) |&gt; mutate(annee=as.integer(annee)) ## Rows: 289 Columns: 78 ## -- Column specification -------------------------------------------------------- ## Delimiter: &quot;;&quot; ## chr (4): Variant, Region, subregion, country or area *, Notes, Type ## dbl (74): Index, Country code, Parent code, 1950, 1951, 1952, 1953, 1954, 19... ## ## i Use `spec()` to retrieve the full column specification for this data. ## i Specify the column types or set `show_col_types = FALSE` to quiet this message. # exploration des pays pop_pays&lt;-population_1950_UN |&gt; distinct(region) # codes iso iso_codes_pays&lt;-read_delim(&quot;countries_iso_codes.csv&quot;) |&gt; select(name,iso_code=&quot;alpha-3&quot;,region,sub_region=&quot;sub-region&quot;, intermediate_region=&quot;intermediate-region&quot;) ## Rows: 249 Columns: 11 ## -- Column specification -------------------------------------------------------- ## Delimiter: &quot;,&quot; ## chr (11): name, alpha-2, alpha-3, country-code, iso_3166-2, region, sub-regi... ## ## i Use `spec()` to retrieve the full column specification for this data. ## i Specify the column types or set `show_col_types = FALSE` to quiet this message. # liste des pays avec des codes iso iso_codes_pays_regions&lt;-iso_codes_pays |&gt; distinct(region) # fusion du tableau avec les valeurs de population avec celui avec les codes iso pop_codes_iso&lt;-full_join(population_1950_UN,iso_codes_pays,by=c(&quot;region&quot;=&quot;name&quot;)) # identification des pays sans code iso pour recodage pop_no_codes_iso&lt;-anti_join(pop_pays,iso_codes_pays,by=c(&quot;region&quot;=&quot;name&quot;)) |&gt; distinct(region) # recodage des pays manquants; on regarde dans la tableau pop_codes_iso pour voir les différences d&#39;orthographe population_1950_UN_consolide&lt;-population_1950_UN |&gt; mutate(region=case_when(region==&quot;Republic of Moldova&quot;~&quot;Moldova, Republic of&quot;, region==&quot;United Kingdom&quot;~&quot;United Kingdom of Great Britain and Northern Ireland&quot;, region==&quot;United Republic of Tanzania &quot;~&quot;Tanzania, United Republic of&quot;, TRUE~region)) ############################ DONNEES FINALES CONSOLIDEES ISO ###################### # on refusionne avec les bons pays population_1950_UN_iso&lt;-full_join(population_1950_UN_consolide, iso_codes_pays,by=c(&quot;region&quot;=&quot;name&quot;)) ##################################### DONNEES BRUTES QUE LES PAYS #################### # Refusion avec un join qui ne conserve que les pays du tableaux iso_codes_pays population_1950_UN_iso_pays&lt;-right_join(population_1950_UN_consolide, iso_codes_pays,by=c(&quot;region&quot;=&quot;name&quot;)) pop_pays_uniquement&lt;-population_1950_UN_iso_pays |&gt; distinct(region) 2.1 Population graphique monde entier ## Graphique 1 : évolution de la population mondiale (pas très informatif) # exploration légendes zone géographique population_1950_UN_iso |&gt; distinct(Type) ## # A tibble: 11 x 1 ## Type ## &lt;chr&gt; ## 1 World ## 2 Label/Separator ## 3 Development Group ## 4 Special other ## 5 Income Group ## 6 Region ## 7 SDG region ## 8 Subregion ## 9 Country/Area ## 10 SDG subregion ## 11 &lt;NA&gt; # graphique pour le monde entier population_1950_UN_iso |&gt; filter(Type==&quot;World&quot;) |&gt; # pour faire un geom_line # https://statisticsglobe.com/ggplot2-geom_path-each-group-only-one-observation-in-r ggplot()+ aes(annee,population,group=1)+ geom_point()+ geom_line(size=2)+ theme(axis.text.x=element_text(angle=45, hjust=1, vjust=1)) # graphique 2 : évolution de la population par continent # on regarde les niveaux de la colonne region une fois dans la catégorie Subregion de la colonne Type pour voir comment rassembler le plus simplement possible population_1950_UN_iso |&gt; filter(Type==&quot;Subregion&quot;) |&gt; distinct(region) ## # A tibble: 20 x 1 ## region ## &lt;chr&gt; ## 1 Eastern Africa ## 2 Middle Africa ## 3 Southern Africa ## 4 Western Africa ## 5 Northern Africa ## 6 Western Asia ## 7 Central Asia ## 8 Southern Asia ## 9 Eastern Asia ## 10 South-Eastern Asia ## 11 Caribbean ## 12 Central America ## 13 South America ## 14 Melanesia ## 15 Micronesia ## 16 Polynesia ## 17 Eastern Europe ## 18 Northern Europe ## 19 Southern Europe ## 20 Western Europe # on rassemble les régions dans des continents en extrayant le dernier mot à droite dans une nouvelle colonne continent_population&lt;-population_1950_UN_iso |&gt; filter(Type==&quot;Subregion&quot;) |&gt; mutate(continent=word(region,start = -1), .after=Type) |&gt; mutate(region=fct_reorder(region,continent)) |&gt; group_by(annee,continent) |&gt; summarise(pop_sum=sum(population,na.rm=TRUE)) |&gt; ungroup() ## `summarise()` has grouped output by &#39;annee&#39;. You can override using the ## `.groups` argument. # vérification que tout va bien continent_population|&gt; distinct(continent) ## # A tibble: 8 x 1 ## continent ## &lt;chr&gt; ## 1 Africa ## 2 America ## 3 Asia ## 4 Caribbean ## 5 Europe ## 6 Melanesia ## 7 Micronesia ## 8 Polynesia # pour faire un geom_line # https://statisticsglobe.com/ggplot2-geom_path-each-group-only-one-observation-in-r ggplot(continent_population )+ aes(annee,pop_sum,colour=continent)+ #geom_point()+ geom_line(size=1)+ #facet_grid(~continent)+ scale_x_continuous(breaks=seq(0,2020,10))+ #scale_y_continuous(breaks=seq(0,2020,10))+ theme(axis.text.x=element_text(angle=45, hjust=1, vjust=1)) # verification des valeurs de population test&lt;-continent_population |&gt; filter(annee==2020) "],["setup.html", "Chapter 3 Connecter Bookdown à Github 3.1 Démarche actualisée - 24-03-2022", " Chapter 3 Connecter Bookdown à Github 3.1 Démarche actualisée - 24-03-2022 Aller sur votre compte GitHub : github.com/username Cliquer sur Repositories, puis sur le bouton vert New pour créer un nouveau repo Appelez ce nouveau repo mon_livre par exemple Ninitalisez pas ce repo avec un README Cliquer sur le bouton vert Create repository  ce qui vous emmènera sur votre nouveau repo Cliquer sur le petit bouton clone or download et copier lurl, par exemple https://github.com/oswaldoforey/mon_livre.git 3.1.1 Installer longlet git dans RStudio Dans la console, taper usethis::use_git() et dire Yes aux deux demandes. Cela redémarre R et installer longlet git dans la fenêtre environnement. Cliquer ensuite dans longlet terminal de la fenêtre console pour ouvrir le terminal. Taper git remote add suivi du nom que vous souhaitez donner à la connection suivi de luril github de votre repo copiée précedémment, soit quelque chose comme: git remote add TP_CEFIM https://github.com/oswaldoforey/TP_CEFIM.git Taper ensuite git push set-upstream TP_CEFIM master Retourner sur github.com/username/mon_livre et rafraichir, les fichiers sont là! Cliquer ensuite sur Settings (la roue dentée en haut à droite sous Pin) Puis sur le coté gauche de la page trouver le menu Pages et rentrer dedans Changer ensuite la Source pulldown de None à master branch /docs folder Cela devrait afficher le message Your site is ready to be published at https://username.github.io/mon_livre/  cliquer sur le lien, cela devrait vous emmener à la page de votre livre Si un readem sest malgré tout créé et que la fusée en bas à droite du tableau de votre repo napparait pas, effacer le readme, etle bouton environnement en bas à droite de la page avec une fusée apparait cliquer dessus ça marche (il faut attendre un peu des fois et recharger la page) 3.1.2 Modifier son livre et mettre à jour en ligne Dans le projet du livre, vous pouvez rajouter des chapitres en ouvrant un nouveau rmarkdown et en le sauvegardant dans le dossier du projet. Pour lajouter au reste du livre, ouvrir le dossier _bookdown.yml et rajouter le nom du chapitre suivi de .Rmd dans les crochets de la section yaml rmd_files :[]. Modifiez à lenvie les chapitres existants comme dans un rmarkdown. Lorsque vous avez finalisé votre travail, aller dans longlet Build et cliquer sur Build Book pour générer les fichiers html utilisé par github. Puis aller dans longlet Git, cliquer sur Commit et dans la fenêtre qui souvre sélectionner tous les dossiers dans la fenêtre en haut à gauche et metter dans la fenêtre en haut à droite la description des changements (cest votre commit) et cliquer sur commit. Cliquer enfin sur push (la flèche verte), cela enverra les changements sur github. "],["test-insertion-shiny-app.html", "Chapter 4 test insertion shiny app", " Chapter 4 test insertion shiny app je fais un test encore mieux cest génial knitr::include_app(&quot; https://oswaldoforey.shinyapps.io/TP_test/&quot;) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
